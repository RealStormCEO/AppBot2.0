<link rel="stylesheet" href="/dashboard.css">
<script src="/js/order.js" defer></script>
<%- include('partials/navbar') %>

<div class="dashboard-container">
  <header>
    <h1>ğŸ› ï¸ Application Dashboard</h1>
    <p class="welcome">Welcome, <%= user.username %>!</p>
  </header>

  <section class="questions-section">
    <h2>ğŸ“‹ Current Questions</h2>
    <ul class="question-list" id="sortable-list">
      <% questions.forEach(q => { %>
        <li class="question-item" data-id="<%= q.id %>">
          <span class="drag-icon">â˜°</span>
          <span class="question-text"><%= q.question %></span>
          <form action="/dashboard/delete-question" method="POST">
            <input type="hidden" name="id" value="<%= q.id %>">
            <button class="delete-btn" type="submit">ğŸ—‘ï¸</button>
          </form>
        </li>
      <% }) %>
    </ul>
    <button id="save-order" class="save-order-btn">ğŸ’¾ Save Order</button>
  </section>

  <section class="add-question">
    <h2>â• Add a New Question</h2>
    <form method="POST" action="/dashboard/add-question" class="question-form">
      <input name="question" placeholder="Enter a new question..." required>
      <button type="submit">Add</button>
    </form>
  </section>
</div>
