<%- include('partials/navbar') %>
<link rel="stylesheet" href="/developer/users.css"> <!-- reuse same CSS for consistency -->

<div class="dev-wrapper">
  <aside class="dev-sidebar">
    <h2>🛠️ Dev Panel</h2>
    <ul>
      <li><a href="/developer/dashboard">📊 Dashboard</a></li>
      <li><a href="/developer/servers">🌐 Servers</a></li>
      <li><a href="/developer/users">👥 Users</a></li>
      <li><a href="/developer/dev-users">🔑 Dev Users</a></li>
      <li><a href="/dashboard">↩️ Back to User Panel</a></li>
    </ul>
  </aside>

  <main class="dev-content">
    <h1>🌐 Servers</h1>

    <table class="user-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Icon</th>
          <th>Joined At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% servers.forEach(server => { %>
          <tr>
            <td><%= server.id %></td>
            <td><%= server.name %></td>
            <td><%= server.icon || 'None' %></td>
            <td><%= new Date(server.joined_at).toLocaleString() %></td>
            <td class="actions">
              <a href="/developer/servers/<%= server.id %>/edit" class="btn btn-edit">✏️</a>
              <form action="/developer/servers/<%= server.id %>/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this server?');" style="display:inline;">
                <button class="btn btn-delete">🗑️</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </main>
</div>
