<%- include('partials/navbar') %>
<link rel="stylesheet" href="/developer/users.css">

<div class="dev-wrapper">
  <aside class="dev-sidebar">
    <h2>ğŸ› ï¸ Dev Panel</h2>
    <ul>
      <li><a href="/developer/dashboard">ğŸ“Š Dashboard</a></li>
      <li><a href="/developer/servers">ğŸŒ Servers</a></li>
      <li><a href="/developer/users">ğŸ‘¥ Users</a></li>
      <li><a href="/developer/dev-users">ğŸ”‘ Dev Users</a></li>
      <li><a href="/dashboard">â†©ï¸ Back to User Panel</a></li>
    </ul>
  </aside>

  <main class="dev-content">
    <h1>ğŸ‘¥ Users</h1>

    <div class="user-controls">
      <a href="/developer/users/add" class="btn btn-primary">â• Add User</a>
    </div>

    <table class="user-table">
<thead>
  <tr>
    <th>User ID</th>
    <th>Server ID</th> <!-- NEW -->
    <th>Plan</th>
    <th>Start Date</th>
    <th>Expiration Date</th>
    <th>Actions</th>
  </tr>
</thead>
<tbody>
  <% users.forEach(user => { %>
    <tr>
      <td><%= user.user_id %></td>
      <td><%= user.server_id || 'N/A' %></td> <!-- NEW -->
      <td><%= user.plan %></td>
      <td><%= new Date(user.start_date).toLocaleString() %></td>
      <td><%= new Date(user.expiration_date).toLocaleString() %></td>
      <td class="actions">
        <a href="/developer/users/<%= user.id %>/edit" class="btn btn-edit">âœï¸</a>
        <form action="/developer/users/<%= user.id %>/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this user?');" style="display:inline;">
          <button class="btn btn-delete">ğŸ—‘ï¸</button>
        </form>
      </td>
    </tr>
  <% }) %>
</tbody>
    </table>
  </main>
</div>
