(()=>{var e={};e.id=5749,e.ids=[5749],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},93181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(50482),n=r(69108),a=r(62563),o=r.n(a),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(no-nav)",{children:["servers",{children:["invite-complete",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,99)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(no-nav)\\servers\\invite-complete\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,23458)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(no-nav)\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,51965)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(no-nav)\\servers\\invite-complete\\page.jsx"],u="/(no-nav)/servers/invite-complete/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(no-nav)/servers/invite-complete/page",pathname:"/servers/invite-complete",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57219:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},83787:(e,t,r)=>{Promise.resolve().then(r.bind(r,49798))},51657:(e,t,r)=>{Promise.resolve().then(r.bind(r,22755))},35303:()=>{},49798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95344),n=r(47674);r(36271);var a=r(12799);function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:(0,s.jsxs)(n.SessionProvider,{children:[s.jsx(a.default,{}),e]})})})}},22755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95344),n=r(3729),a=r(8428);function o(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let t=localStorage.getItem("invited_guild");if(!t){e.push("/servers");return}let r=async()=>{try{let s=await fetch("/api/bot-guilds"),{ids:n}=await s.json();n.includes(t)?(localStorage.removeItem("invited_guild"),e.push(`/dashboard/${t}`)):setTimeout(r,2e3)}catch(t){console.error("Bot check failed:",t),e.push("/servers")}};r()},[e]),s.jsx("p",{style:{padding:"2rem",fontSize:"1.2rem"},children:"Finishing bot invite... Please wait."})}},12799:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),n=r(47674),a=r(3729),o=r(8428),i=r(94830),l=r.n(i);function d(){let{data:e,status:t}=(0,n.useSession)(),r=(0,o.useRouter)(),i=(0,o.usePathname)(),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[f,g]=(0,a.useState)(null),[_,b]=(0,a.useState)([]),[j,P]=(0,a.useState)(""),D=(0,a.useRef)(null),w=i?.startsWith("/developer"),y=(()=>{let e=i?.split("/");if(!e||e.length<3)return null;let[t,r,s]=e;return["dashboard","applications","settings"].includes(r)&&/^\d+$/.test(s)?s:null})();if((0,a.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,a.useEffect)(()=>{(async()=>{if(!e?.user?.id){v(!0);return}try{let t=await fetch(`/api/is-dev-user?userId=${e.user.id}`),r=await t.json();p(r.isDev||!1)}catch(e){console.error("\uD83D\uDD25 Failed to check dev access:",e)}finally{v(!0)}})()},[e?.user?.id]),(0,a.useEffect)(()=>{(async()=>{if(!y){""!==m&&x("");return}if("authenticated"===t&&e?.accessToken)try{let t=await fetch("https://discord.com/api/users/@me/guilds",{headers:{Authorization:`Bearer ${e.accessToken}`}}),r=(await t.json()).find(e=>e.id===y);r&&x(r.name)}catch(e){console.error("⚠️ Failed to fetch guild name:",e)}})()},[y,e?.accessToken,t]),(0,a.useEffect)(()=>{(async function(){if(e?.user?.id)try{let e=await fetch("/api/developer/current-user"),t=e.ok?await e.json():null;g(t);let r=await fetch("/api/developer/plans"),s=r.ok?await r.json():[];b(s)}catch(e){console.error("Failed to fetch user or plans:",e)}})()},[e?.user?.id]),(0,a.useEffect)(()=>{if(!f?.expiration_date){P("");return}function e(){let e=new Date,t=new Date(f.expiration_date)-e;if(t<=0){P("Expired");return}let r=Math.floor(t/31536e6),s=Math.floor((t-=31536e6*r)/864e5),n=Math.floor((t-=864e5*s)/36e5),a=Math.floor((t-=36e5*n)/6e4),o=[];r>0&&o.push(`${r}y`),s>0&&o.push(`${s}d`),n>0&&o.push(`${n}h`),o.push(`${a}m`),P(o.join(", "))}e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[f?.expiration_date]),"loading"===t)return null;let S=m?`Editing Server: ${m}`:"",T=(f?.plan||"Free").trim().toLowerCase(),k=_.find(e=>e.name.trim().toLowerCase()===T);return(0,s.jsxs)("div",{className:l().topbar,children:[(0,s.jsxs)("div",{className:l().logoArea,children:[s.jsx("img",{src:"/default-icon.jpg",alt:"AppBot Logo",className:l().logoImage}),s.jsx("span",{className:l().brand,children:"AppBot2.0"})]}),(w||S)&&s.jsx("div",{className:l().centerText,children:s.jsx("span",{className:l().guildName,children:w?"Developer Panel":S})}),(0,s.jsxs)("div",{className:l().right,children:[e?.user&&s.jsx("div",{className:l().avatarWrapper,onClick:()=>c(e=>!e),children:s.jsx("img",{src:e.user.image,alt:"Profile",className:l().avatar})}),e?.user&&d&&(0,s.jsxs)("div",{className:l().dropdown,ref:D,children:[(0,s.jsxs)("div",{className:l().userInfoDropdown,children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"User:"})," ",f?.username||e.user.name]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Plan:"})," ",k?.name||f?.plan||"Free"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Max Forms:"})," ",k?.max_forms??"N/A"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Max Questions:"})," ",k?.max_questions??"N/A"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Time Remaining:"}),s.jsx("br",{}),s.jsx("span",{children:j||"N/A"})]})]}),s.jsx("a",{href:"https://discord.gg/svHdVh2Bff",target:"_blank",rel:"noopener noreferrer",className:l().devButton,style:{textAlign:"center"},children:"\uD83D\uDD17 Join Support Server"}),"/servers"!==i&&s.jsx("button",{className:l().devButton,onClick:()=>r.push("/servers"),children:"\uD83D\uDD01 Switch Servers"}),u&&s.jsx("button",{className:l().devButton,onClick:()=>r.push("/developer/dashboard"),children:"\uD83D\uDEE0 Developer Panel"}),s.jsx("button",{className:l().logout,onClick:()=>(0,n.signOut)({callbackUrl:"/home"}),children:"\uD83D\uDCD5 Log out"})]})]})]})}},94830:e=>{e.exports={topbar:"Topbar_topbar__V0QGl",right:"Topbar_right__Jj2ao",logoArea:"Topbar_logoArea__forZL",logoImage:"Topbar_logoImage__LJuRd",brand:"Topbar_brand__3hSuU",avatarWrapper:"Topbar_avatarWrapper__5Bf2P",avatar:"Topbar_avatar__Eq_S3",dropdown:"Topbar_dropdown__HJUG8",fadeIn:"Topbar_fadeIn__o0Bh1",name:"Topbar_name__eFLUk",logout:"Topbar_logout__u1BV7",devButton:"Topbar_devButton__28Bss",centerText:"Topbar_centerText__7McvY",guildName:"Topbar_guildName__av6yP",userInfoDropdown:"Topbar_userInfoDropdown__dVogq"}},23458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\(no-nav)\layout.jsx`),{__esModule:n,$$typeof:a}=s,o=s.default},99:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\(no-nav)\servers\invite-complete\page.jsx`),{__esModule:n,$$typeof:a}=s,o=s.default},51965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(25036);let n={title:"Next.js",description:"Generated by Next.js"};function a({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},36271:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,8356,3221],()=>r(93181));module.exports=s})();