(()=>{var e={};e.id=4367,e.ids=[4367],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1884:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>m,tree:()=>c});var i=s(50482),a=s(69108),n=s(62563),o=s.n(n),l=s(68300),r={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(r[e]=()=>l[e]);s.d(t,r);let c=["",{children:["(with-nav)",{children:["applications",{children:["[guild_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,45652)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(with-nav)\\applications\\[guild_id]\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,31841)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(with-nav)\\applications\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,75603)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(with-nav)\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,51965)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\(with-nav)\\applications\\[guild_id]\\page.jsx"],d="/(with-nav)/applications/[guild_id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(with-nav)/applications/[guild_id]/page",pathname:"/applications/[guild_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29671:(e,t,s)=>{Promise.resolve().then(s.bind(s,12137))},25502:(e,t,s)=>{Promise.resolve().then(s.bind(s,74262)),Promise.resolve().then(s.bind(s,12799))},90978:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12137:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var i=s(95344),a=s(8428),n=s(3729),o=s(90978),l=s.n(o),r=s(20429),c=s.n(r);function p(){let{guild_id:e}=(0,a.useParams)(),[t,s]=(0,n.useState)([]),[o,r]=(0,n.useState)(!0),[p,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1),[h,_]=(0,n.useState)(null),[x,j]=(0,n.useState)(!1),b=(0,a.useRouter)();(0,n.useEffect)(()=>{(async()=>{try{let t=await fetch(`/api/applications/${e}`),i=await t.json(),a=[...new Set(i.map(e=>e.form_id))],n=await fetch(`/api/forms/titles?ids=${a.join(",")}`),o=await n.json(),l={};o.forEach(e=>{l[e.id]=e.title});let r=i.map(e=>({...e,form_title:l[e.form_id]||"Unknown Form"}));s(r)}catch(e){console.error("Error loading applications or form titles:",e)}finally{r(!1)}})()},[e]),(0,n.useEffect)(()=>{document.title=`Applications - ${e} - AppBot 2.0`},[e]);let f=e=>{switch(e){case 1:return i.jsx("span",{className:c().statusPending,children:"⏳ Pending"});case 2:return i.jsx("span",{className:c().statusAccepted,children:"✅ Accepted"});case 3:return i.jsx("span",{className:c().statusDenied,children:"❌ Denied"});default:return i.jsx("span",{children:"Unknown"})}},A=async t=>{try{(await fetch(`/api/applications/${e}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).ok?(s(e=>e.filter(e=>e.id!==t)),_(null)):console.error("❌ Failed to delete application")}catch(e){console.error("❌ Delete error:",e)}},v=async()=>{try{(await fetch(`/api/applications/${e}/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:p})})).ok?(s(e=>e.filter(e=>!p.includes(e.id))),d([]),m(!1),j(!1)):console.error("❌ Failed to delete selected applications")}catch(e){console.error("❌ Bulk delete error:",e)}},g=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsxs)("title",{children:["Applications - ",e," - AppBot 2.0"]}),i.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("div",{className:c().wrapper,children:[i.jsx("h1",{className:c().title,children:"\uD83D\uDCC4 Applications"}),o?i.jsx("p",{children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[p.length>0&&i.jsx("div",{className:c().bulkActions,children:i.jsx("button",{className:c().iconButtonDelete,onClick:()=>j(!0),children:"\uD83D\uDDD1️ Delete Selected"})}),0===t.length?i.jsx("p",{children:"No applications submitted."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:c().tableHeader,children:[i.jsx("div",{className:c().checkbox,children:i.jsx("input",{type:"checkbox",checked:u,onChange:()=>{u?d([]):d(t.map(e=>e.id)),m(!u)}})}),i.jsx("span",{children:"User"}),i.jsx("span",{className:c().formColumn,children:"Form"})," ",i.jsx("span",{className:c().scoreColumn,children:"AI Detection Score"}),i.jsx("span",{className:c().submittedColumn,children:"Submitted"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Actions"})]}),i.jsx("ul",{className:c().applicationList,children:t.map(t=>(0,i.jsxs)("li",{className:c().applicationCard,children:[i.jsx("div",{className:c().checkbox,children:i.jsx("input",{type:"checkbox",checked:p.includes(t.id),onChange:()=>g(t.id)})}),i.jsx("span",{children:t.username}),i.jsx("span",{className:c().formColumn,title:t.form_title,children:t.form_title.length>25?t.form_title.slice(0,22)+"...":t.form_title}),i.jsx("span",{className:c().scoreColumn,children:Math.round(100*t.ai_score).toFixed(1)+"%"}),i.jsx("span",{className:c().submittedColumn,children:new Date(t.submitted_at).toLocaleString()}),i.jsx("span",{children:f(t.application_status)}),(0,i.jsxs)("div",{className:c().actions,children:[i.jsx("button",{className:c().iconButton,onClick:()=>b.push(`/applications/${e}/view/${t.id}`),title:"View Application",children:"\uD83D\uDD0D"}),i.jsx("button",{className:c().iconButtonDelete,onClick:()=>_(t.id),title:"Delete Application",children:"\uD83D\uDDD1️"})]})]},t.id))})]}),null!==h&&i.jsx("div",{className:c().modalBackdrop,children:(0,i.jsxs)("div",{className:c().modal,children:[i.jsx("p",{children:"Are you sure you want to delete this application?"}),(0,i.jsxs)("div",{className:c().modalButtons,children:[i.jsx("button",{className:c().confirm,onClick:()=>A(h),children:"✅ Confirm"}),i.jsx("button",{className:c().cancel,onClick:()=>_(null),children:"❌ Cancel"})]})]})}),x&&i.jsx("div",{className:c().modalBackdrop,children:(0,i.jsxs)("div",{className:c().modal,children:[i.jsx("p",{children:"Are you sure you want to delete all selected applications?"}),(0,i.jsxs)("div",{className:c().modalButtons,children:[i.jsx("button",{className:c().confirm,onClick:v,children:"✅ Confirm"}),i.jsx("button",{className:c().cancel,onClick:()=>j(!1),children:"❌ Cancel"})]})]})})]})]})]})}},42348:e=>{e.exports={wrapper:"ApplicationsLayout_wrapper__Yb6U9",body:"ApplicationsLayout_body__sbMhP",main:"ApplicationsLayout_main___suKH",content:"ApplicationsLayout_content__FA1dn",topbar:"ApplicationsLayout_topbar__b1fR0",container:"ApplicationsLayout_container__V_W6O"}},20429:e=>{e.exports={wrapper:"Applications_wrapper__vVdp6",title:"Applications_title__bxVzq",tableHeader:"Applications_tableHeader__P9D2s",applicationList:"Applications_applicationList__05ThF",applicationCard:"Applications_applicationCard__AhpGr",actions:"Applications_actions__UhkGE",iconButton:"Applications_iconButton__OsoCk",iconButtonDelete:"Applications_iconButtonDelete__YI3hZ",statusPending:"Applications_statusPending__n8lho",statusAccepted:"Applications_statusAccepted__lPi0Y",statusDenied:"Applications_statusDenied__NsVtv",modalBackdrop:"Applications_modalBackdrop__D5bQ0",modal:"Applications_modal__0OjgQ",modalButtons:"Applications_modalButtons__g2T_3",submittedColumn:"Applications_submittedColumn__e8Cdl",scoreColumn:"Applications_scoreColumn__KXTnF",checkbox:"Applications_checkbox__X2GjR",bulkActions:"Applications_bulkActions__9cUgz"}},45652:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let i=(0,s(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\(with-nav)\applications\[guild_id]\page.jsx`),{__esModule:a,$$typeof:n}=i,o=i.default},31841:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var i=s(25036),a=s(94399),n=s(61410),o=s(42348),l=s.n(o);function r({children:e}){return(0,i.jsxs)("div",{className:l().wrapper,children:[i.jsx(a.ZP,{}),(0,i.jsxs)("div",{className:l().body,children:[i.jsx(n.ZP,{}),i.jsx("main",{className:l().content,children:e})]})]})}},61410:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>o});let i=(0,s(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\components\DashboardSidebar.jsx`),{__esModule:a,$$typeof:n}=i,o=i.default},94399:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>o});let i=(0,s(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\components\Topbar.jsx`),{__esModule:a,$$typeof:n}=i,o=i.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[1638,8356,3221,6506,6477],()=>s(1884));module.exports=i})();