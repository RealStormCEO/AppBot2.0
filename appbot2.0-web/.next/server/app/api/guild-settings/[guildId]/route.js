(()=>{var e={};e.id=4779,e.ids=[4779],e.modules={13878:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=13878,e.exports=t},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},41808:e=>{"use strict";e.exports=require("net")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},10097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>b});var d={};r.r(d),r.d(d,{GET:()=>n,POST:()=>u});var s=r(95419),o=r(69108),a=r(99678),i=r(38046),_=r.n(i);async function n(e,t){let{guildId:r}=t.params,[d]=await _().query("SELECT * FROM guild_settings WHERE guild_id = ?",[r]);if(0===d.length)return new Response(JSON.stringify({}),{status:404});let s=d[0];try{s.dm_accept_embed&&(s.dm_accept_embed=JSON.parse(s.dm_accept_embed))}catch{s.dm_accept_embed=null}try{s.dm_deny_embed&&(s.dm_deny_embed=JSON.parse(s.dm_deny_embed))}catch{s.dm_deny_embed=null}try{s.roles_to_add&&(s.roles_to_add=JSON.parse(s.roles_to_add))}catch{s.roles_to_add=[]}try{s.roles_to_remove&&(s.roles_to_remove=JSON.parse(s.roles_to_remove))}catch{s.roles_to_remove=[]}return s.auto_deny_enabled=!!s.auto_deny_enabled,s.auto_deny_threshold=Number(s.auto_deny_threshold)||0,new Response(JSON.stringify(s),{status:200})}async function u(e,t){let{guildId:r}=t.params,d=await e.json();if(!r)return new Response("guildId parameter is required",{status:400});let s=d.dm_accept_embed?JSON.stringify(d.dm_accept_embed):null,o=d.dm_deny_embed?JSON.stringify(d.dm_deny_embed):null,a=Array.isArray(d.roles_to_add)?JSON.stringify(d.roles_to_add):"[]",i=Array.isArray(d.roles_to_remove)?JSON.stringify(d.roles_to_remove):"[]",[n]=await _().query(`INSERT INTO guild_settings
     (guild_id, dm_accept_enabled, dm_deny_enabled, dm_accept_embed, dm_deny_embed, roles_to_add, roles_to_remove, auto_deny_enabled, auto_deny_threshold)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
     ON DUPLICATE KEY UPDATE
       dm_accept_enabled = VALUES(dm_accept_enabled),
       dm_deny_enabled = VALUES(dm_deny_enabled),
       dm_accept_embed = VALUES(dm_accept_embed),
       dm_deny_embed = VALUES(dm_deny_embed),
       roles_to_add = VALUES(roles_to_add),
       roles_to_remove = VALUES(roles_to_remove),
       auto_deny_enabled = VALUES(auto_deny_enabled),
       auto_deny_threshold = VALUES(auto_deny_threshold)`,[r,d.dm_accept_enabled?1:0,d.dm_deny_enabled?1:0,s,o,a,i,d.auto_deny_enabled?1:0,Number(d.auto_deny_threshold)||0]),[u]=await _().query("SELECT * FROM guild_settings WHERE guild_id = ?",[r]);return new Response(JSON.stringify(u[0]),{status:200})}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/guild-settings/[guildId]/route",pathname:"/api/guild-settings/[guildId]",filename:"route",bundlePath:"app/api/guild-settings/[guildId]/route"},resolvedPagePath:"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\api\\guild-settings\\[guildId]\\route.js",nextConfigOutput:"export",userland:d}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:y,staticGenerationBailout:b}=l,g="/api/guild-settings/[guildId]/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:p})}},38046:(e,t,r)=>{"use strict";let d=r(63069).createPool({host:"localhost",user:"root",password:"",database:"appbot2c_application_bot",waitForConnections:!0,connectionLimit:10,queueLimit:0});e.exports=d}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),d=t.X(0,[1638,7632],()=>r(10097));module.exports=d})();