(()=>{var e={};e.id=240,e.ids=[240],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d});var a=r(50482),s=r(69108),n=r(62563),o=r.n(n),l=r(68300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["developer",{children:["feedback",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,95210)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\feedback\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,43848)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,51965)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\feedback\\page.jsx"],u="/developer/feedback/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/developer/feedback/page",pathname:"/developer/feedback",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57219:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},49594:(e,t,r)=>{Promise.resolve().then(r.bind(r,56679))},19657:(e,t,r)=>{Promise.resolve().then(r.bind(r,40510))},35303:()=>{},53267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=r(39694);r(95344),r(3729);let s=a._(r(60546));function n(e,t){let r={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};return"function"==typeof e&&(r.loader=e),(0,s.default)({...r,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let a=r(63689);function s(e){let{reason:t,children:r}=e;throw new a.BailoutToCSRError(t)}},60546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(95344),s=r(3729),n=r(38354);function o(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},i=function(e){let t={...l,...e},r=(0,s.lazy)(()=>t.loader().then(o)),i=t.loading;function d(e){let o=i?(0,a.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,a.jsx)(r,{...e}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(s.Suspense,{fallback:o,children:l})}return d.displayName="LoadableComponent",d}},56679:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(95344),s=r(3729),n=r(8428),o=r(2661),l=r(12799),i=r(6100),d=r.n(i);function c({message:e,onConfirm:t,onCancel:r}){return a.jsx("div",{className:d().backdrop,children:(0,a.jsxs)("div",{className:d().modal,children:[a.jsx("p",{children:e}),(0,a.jsxs)("div",{className:d().buttons,children:[a.jsx("button",{className:d().confirmBtn,onClick:t,children:"✅ Confirm"}),a.jsx("button",{className:d().cancelBtn,onClick:r,children:"❌ Cancel"})]})]})})}var u=r(89086),p=r.n(u);function f(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)([]),[i,d]=(0,s.useState)(""),[u,f]=(0,s.useState)(!1),[h,_]=(0,s.useState)(null);(0,s.useEffect)(()=>{v()},[]);let v=async()=>{f(!0);try{let e=await fetch("/api/developer/feedback");if(e.ok){let t=await e.json();r(t)}else d("Failed to fetch feedback.")}catch{d("Failed to fetch feedback.")}f(!1)},b=t=>{e.push(`/developer/feedback/${t}`)},m=async e=>{try{(await fetch(`/api/developer/feedback/${e}`,{method:"DELETE"})).ok?r(t=>t.filter(t=>t.id!==e)):alert("Failed to delete feedback.")}catch{alert("Failed to delete feedback.")}_(null)};return(0,a.jsxs)("div",{className:p().container,children:[a.jsx(o.Z,{}),(0,a.jsxs)("div",{className:p().mainContent,children:[a.jsx(l.default,{}),a.jsx("h1",{className:p().title,children:"\uD83E\uDDD1‍\uD83D\uDCBB Developer Feedback"}),i&&a.jsx("p",{className:p().error,children:i}),u&&a.jsx("p",{children:"Loading feedback..."}),a.jsx("div",{className:p().feedbackList,children:t.map(({id:e,username:t,guild_name:r,submitted_at:s})=>(0,a.jsxs)("div",{className:p().feedbackCard,children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"User:"})," ",t," ",a.jsx("br",{}),a.jsx("strong",{children:"Server:"})," ",r||"Unknown"," ",a.jsx("br",{}),a.jsx("strong",{children:"Submitted:"})," ",new Date(s).toLocaleString()]}),(0,a.jsxs)("div",{className:p().actions,children:[a.jsx("button",{className:p().iconButtonView,onClick:()=>b(e),title:"View Feedback",children:"\uD83D\uDD0D"}),a.jsx("button",{className:p().iconButtonDelete,onClick:()=>_(e),title:"Delete Feedback",children:"\uD83D\uDDD1️"})]})]},e))}),h&&a.jsx(c,{message:"Are you sure you want to delete this feedback?",onConfirm:()=>m(h),onCancel:()=>_(null)})]})]})}},40510:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95344),s=r(47674),n=r(2661),o=r(89346),l=r.n(o),i=r(53267),d=r.n(i),c=r(3729),u=r(8428);let p=d()(async()=>{},{loadableGenerated:{modules:["..\\app\\developer\\layout.jsx -> @/components/Topbar"]},ssr:!1});function f({children:e}){let{data:t,status:r}=(0,s.useSession)(),a=(0,u.useRouter)(),[n,o]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let e=async()=>{if(t?.user?.id)try{let e=await fetch(`/api/is-dev-user?userId=${t.user.id}`);(await e.json()).isDev?o(!0):a.push("/home")}catch(e){console.error("\uD83D\uDEAB Dev check failed:",e),a.push("/home")}};"authenticated"===r&&e()},[t?.user?.id,r,a]),"loading"===r||null===n)?null:e}function h({children:e}){return(0,a.jsxs)(s.SessionProvider,{children:[a.jsx(p,{}),a.jsx(f,{children:(0,a.jsxs)("div",{className:l().container,children:[a.jsx(n.Z,{}),a.jsx("main",{className:l().content,children:e})]})})]})}},2661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(95344),s=r(56506),n=r(8428),o=r(83825),l=r.n(o);function i(){let e=(0,n.usePathname)();return a.jsx("div",{className:l().sidebar,children:[{href:"/developer",label:"\uD83D\uDCCA Dashboard"},{href:"/developer/servers",label:"\uD83D\uDEE1 Servers"},{href:"/developer/users",label:"\uD83D\uDC65 Users"},{href:"/developer/dev-users",label:"\uD83E\uDDE0 Dev Users"},{href:"/developer/feedback",label:"\uD83D\uDCAC Feedback"},{href:"/servers",label:"\uD83D\uDD19 Back to User Panel"}].map(t=>a.jsx(s.default,{href:t.href,className:`${l().link} ${e===t.href?l().active:""}`,children:t.label},t.href))})}},12799:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(95344),s=r(47674),n=r(3729),o=r(8428),l=r(94830),i=r.n(l);function d(){let{data:e,status:t}=(0,s.useSession)(),r=(0,o.useRouter)(),l=(0,o.usePathname)(),[d,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),[_,v]=(0,n.useState)(""),[b,m]=(0,n.useState)(null),[x,D]=(0,n.useState)([]),[j,g]=(0,n.useState)(""),k=(0,n.useRef)(null),y=l?.startsWith("/developer"),C=(()=>{let e=l?.split("/");if(!e||e.length<3)return null;let[t,r,a]=e;return["dashboard","applications","settings"].includes(r)&&/^\d+$/.test(a)?a:null})();if((0,n.useEffect)(()=>{let e=e=>{k.current&&!k.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{(async()=>{if(!e?.user?.id){h(!0);return}try{let t=await fetch(`/api/is-dev-user?userId=${e.user.id}`),r=await t.json();p(r.isDev||!1)}catch(e){console.error("\uD83D\uDD25 Failed to check dev access:",e)}finally{h(!0)}})()},[e?.user?.id]),(0,n.useEffect)(()=>{(async()=>{if(!C){""!==_&&v("");return}if("authenticated"===t&&e?.accessToken)try{let t=await fetch("https://discord.com/api/users/@me/guilds",{headers:{Authorization:`Bearer ${e.accessToken}`}}),r=(await t.json()).find(e=>e.id===C);r&&v(r.name)}catch(e){console.error("⚠️ Failed to fetch guild name:",e)}})()},[C,e?.accessToken,t]),(0,n.useEffect)(()=>{(async function(){if(e?.user?.id)try{let e=await fetch("/api/developer/current-user"),t=e.ok?await e.json():null;m(t);let r=await fetch("/api/developer/plans"),a=r.ok?await r.json():[];D(a)}catch(e){console.error("Failed to fetch user or plans:",e)}})()},[e?.user?.id]),(0,n.useEffect)(()=>{if(!b?.expiration_date){g("");return}function e(){let e=new Date,t=new Date(b.expiration_date)-e;if(t<=0){g("Expired");return}let r=Math.floor(t/31536e6),a=Math.floor((t-=31536e6*r)/864e5),s=Math.floor((t-=864e5*a)/36e5),n=Math.floor((t-=36e5*s)/6e4),o=[];r>0&&o.push(`${r}y`),a>0&&o.push(`${a}d`),s>0&&o.push(`${s}h`),o.push(`${n}m`),g(o.join(", "))}e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[b?.expiration_date]),"loading"===t)return null;let w=_?`Editing Server: ${_}`:"",P=(b?.plan||"Free").trim().toLowerCase(),B=x.find(e=>e.name.trim().toLowerCase()===P);return(0,a.jsxs)("div",{className:i().topbar,children:[(0,a.jsxs)("div",{className:i().logoArea,children:[a.jsx("img",{src:"/default-icon.jpg",alt:"AppBot Logo",className:i().logoImage}),a.jsx("span",{className:i().brand,children:"AppBot2.0"})]}),(y||w)&&a.jsx("div",{className:i().centerText,children:a.jsx("span",{className:i().guildName,children:y?"Developer Panel":w})}),(0,a.jsxs)("div",{className:i().right,children:[e?.user&&a.jsx("div",{className:i().avatarWrapper,onClick:()=>c(e=>!e),children:a.jsx("img",{src:e.user.image,alt:"Profile",className:i().avatar})}),e?.user&&d&&(0,a.jsxs)("div",{className:i().dropdown,ref:k,children:[(0,a.jsxs)("div",{className:i().userInfoDropdown,children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"User:"})," ",b?.username||e.user.name]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Plan:"})," ",B?.name||b?.plan||"Free"]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Max Forms:"})," ",B?.max_forms??"N/A"]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Max Questions:"})," ",B?.max_questions??"N/A"]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Time Remaining:"}),a.jsx("br",{}),a.jsx("span",{children:j||"N/A"})]})]}),a.jsx("a",{href:"https://discord.gg/svHdVh2Bff",target:"_blank",rel:"noopener noreferrer",className:i().devButton,style:{textAlign:"center"},children:"\uD83D\uDD17 Join Support Server"}),"/servers"!==l&&a.jsx("button",{className:i().devButton,onClick:()=>r.push("/servers"),children:"\uD83D\uDD01 Switch Servers"}),u&&a.jsx("button",{className:i().devButton,onClick:()=>r.push("/developer/dashboard"),children:"\uD83D\uDEE0 Developer Panel"}),a.jsx("button",{className:i().logout,onClick:()=>(0,s.signOut)({callbackUrl:"/home"}),children:"\uD83D\uDCD5 Log out"})]})]})]})}},89346:e=>{e.exports={container:"DeveloperLayout_container__f2t9o",content:"DeveloperLayout_content__I1FzZ"}},89086:e=>{e.exports={container:"DeveloperFeedback_container__Cr17y",mainContent:"DeveloperFeedback_mainContent__uMOpn",title:"DeveloperFeedback_title__43UdE",error:"DeveloperFeedback_error__XlzFq",feedbackList:"DeveloperFeedback_feedbackList__tgNpd",feedbackCard:"DeveloperFeedback_feedbackCard__5w_5K",actions:"DeveloperFeedback_actions__X_h6y",viewBtn:"DeveloperFeedback_viewBtn__jTqyL",deleteBtn:"DeveloperFeedback_deleteBtn__LFL_s",iconButton:"DeveloperFeedback_iconButton__NThTk",icon:"DeveloperFeedback_icon__8BaBV",iconButtonView:"DeveloperFeedback_iconButtonView__bmPh4",iconButtonDelete:"DeveloperFeedback_iconButtonDelete__BjR62"}},6100:e=>{e.exports={backdrop:"ConfirmModal_backdrop__ejw7k",modal:"ConfirmModal_modal__Mma3T",buttons:"ConfirmModal_buttons__On1VR",confirmBtn:"ConfirmModal_confirmBtn__OojxI",cancelBtn:"ConfirmModal_cancelBtn__R4fKa"}},83825:e=>{e.exports={sidebar:"DevSidebar_sidebar__qHBa4",link:"DevSidebar_link__oek2p",active:"DevSidebar_active__0v92e",containerWithSidebar:"DevSidebar_containerWithSidebar__XnQA3"}},94830:e=>{e.exports={topbar:"Topbar_topbar__V0QGl",right:"Topbar_right__Jj2ao",logoArea:"Topbar_logoArea__forZL",logoImage:"Topbar_logoImage__LJuRd",brand:"Topbar_brand__3hSuU",avatarWrapper:"Topbar_avatarWrapper__5Bf2P",avatar:"Topbar_avatar__Eq_S3",dropdown:"Topbar_dropdown__HJUG8",fadeIn:"Topbar_fadeIn__o0Bh1",name:"Topbar_name__eFLUk",logout:"Topbar_logout__u1BV7",devButton:"Topbar_devButton__28Bss",centerText:"Topbar_centerText__7McvY",guildName:"Topbar_guildName__av6yP",userInfoDropdown:"Topbar_userInfoDropdown__dVogq"}},95210:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,r(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\developer\feedback\page.jsx`),{__esModule:s,$$typeof:n}=a,o=a.default},43848:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,r(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\developer\layout.jsx`),{__esModule:s,$$typeof:n}=a,o=a.default},51965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>s});var a=r(25036);let s={title:"Next.js",description:"Generated by Next.js"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,8356,3221,6506],()=>r(61917));module.exports=a})();