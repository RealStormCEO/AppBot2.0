(()=>{var e={};e.id=1956,e.ids=[1956],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8865:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d});var s=a(50482),r=a(69108),n=a(62563),l=a.n(n),o=a(68300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d=["",{children:["developer",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,53501)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\users\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,43848)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,51965)),"C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\oshad\\OneDrive\\Desktop\\JS Code\\WIP\\AppBot2.0\\appbot2.0-web\\src\\app\\developer\\users\\page.jsx"],c="/developer/users/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/developer/users/page",pathname:"/developer/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57219:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},19657:(e,t,a)=>{Promise.resolve().then(a.bind(a,40510))},80530:(e,t,a)=>{Promise.resolve().then(a.bind(a,26251))},35303:()=>{},53267:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=a(39694);a(95344),a(3729);let r=s._(a(60546));function n(e,t){let a={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};return"function"==typeof e&&(a.loader=e),(0,r.default)({...a,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38354:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=a(63689);function r(e){let{reason:t,children:a}=e;throw new s.BailoutToCSRError(t)}},60546:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=a(95344),r=a(3729),n=a(38354);function l(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},a=(0,r.lazy)(()=>t.loader().then(l)),i=t.loading;function d(e){let l=i?(0,s.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,s.jsx)(a,{...e}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(r.Suspense,{fallback:l,children:o})}return d.displayName="LoadableComponent",d}},40510:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(95344),r=a(47674),n=a(2661),l=a(89346),o=a.n(l),i=a(53267),d=a.n(i),u=a(3729),c=a(8428);let p=d()(async()=>{},{loadableGenerated:{modules:["..\\app\\developer\\layout.jsx -> @/components/Topbar"]},ssr:!1});function h({children:e}){let{data:t,status:a}=(0,r.useSession)(),s=(0,c.useRouter)(),[n,l]=(0,u.useState)(null);return((0,u.useEffect)(()=>{let e=async()=>{if(t?.user?.id)try{let e=await fetch(`/api/is-dev-user?userId=${t.user.id}`);(await e.json()).isDev?l(!0):s.push("/home")}catch(e){console.error("\uD83D\uDEAB Dev check failed:",e),s.push("/home")}};"authenticated"===a&&e()},[t?.user?.id,a,s]),"loading"===a||null===n)?null:e}function v({children:e}){return(0,s.jsxs)(r.SessionProvider,{children:[s.jsx(p,{}),s.jsx(h,{children:(0,s.jsxs)("div",{className:o().container,children:[s.jsx(n.Z,{}),s.jsx("main",{className:o().content,children:e})]})})]})}},26251:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(95344),r=a(3729),n=a(51035),l=a.n(n);let o=[{label:"1 Week",value:7},{label:"1 Month",value:30},{label:"6 Months",value:182},{label:"1 Year",value:365},{label:"Developer",value:9999}],i=[{label:"1 Day",value:1},{label:"3 Days",value:3},{label:"1 Week",value:7},{label:"2 Weeks",value:14}];function d(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[c,p]=(0,r.useState)({user_id:"",username:"",plan:"",expiration_days:7}),[h,v]=(0,r.useState)(null),[m,x]=(0,r.useState)({user_id:"",username:"",plan:"",expiration_days:7}),[_,f]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),[y,D]=(0,r.useState)(1);(0,r.useEffect)(()=>{g(),C()},[]);let g=async()=>{try{let e=await fetch("/api/developer/users");if(!e.ok)throw Error("Failed to fetch users");let a=await e.json();t(a)}catch(e){console.error("Failed to fetch users:",e)}},C=async()=>{try{let e=await fetch("/api/developer/plans");if(!e.ok)throw Error("Failed to fetch plans");let t=await e.json();n(t),p(e=>({...e,plan:e.plan||(t.length>0?t[0].name:"")})),x(e=>({...e,plan:e.plan||(t.length>0?t[0].name:"")}))}catch(e){console.error("Failed to fetch plans:",e)}},P=async()=>{let e=new Date;e.setDate(e.getDate()+parseInt(c.expiration_days)+1);try{await fetch("/api/developer/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,expiration_date:e})}),p({user_id:"",username:"",plan:a.length>0?a[0].name:"",expiration_days:7}),u(!1),g()}catch(e){console.error("Failed to add user:",e)}},w=async()=>{try{await fetch("/api/developer/users/add-time",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:y})}),j(!1),g()}catch(e){console.error("❌ Failed to add time:",e)}},S=e=>{v(e.id),x({user_id:e.user_id,username:e.username,plan:e.plan,expiration_days:U(e.expiration_date)})},k=()=>{v(null),x({user_id:"",username:"",plan:a.length>0?a[0].name:"",expiration_days:7})},N=async e=>{let t=new Date;t.setDate(t.getDate()+parseInt(m.expiration_days)+1);try{await fetch(`/api/developer/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,expiration_date:t})}),k(),g()}catch(e){console.error("Failed to save edit:",e)}},B=async e=>{try{await fetch(`/api/developer/users/${e}`,{method:"DELETE"}),f(null),g()}catch(e){console.error("Failed to delete user:",e)}},U=e=>{let t=new Date;return Math.ceil((new Date(e)-t)/864e5)};return(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsxs)("div",{className:l().headerRow,children:[s.jsx("h1",{className:l().header,children:"\uD83D\uDC64 Users"}),(0,s.jsxs)("div",{className:l().buttonGroup,children:[s.jsx("button",{className:l().addButton,onClick:()=>j(!0),children:"\uD83D\uDD52 Add Time"}),!d&&s.jsx("button",{className:l().addButton,onClick:()=>u(!0),title:"Add User",children:"➕"})]})]}),b&&(0,s.jsxs)("div",{className:l().formRow,children:[s.jsx("select",{value:y,onChange:e=>D(parseInt(e.target.value)),children:i.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),(0,s.jsxs)("div",{className:l().formActions,children:[s.jsx("button",{className:l().saveButton,onClick:w,children:"✅"}),s.jsx("button",{className:l().cancelButton,onClick:()=>j(!1),children:"❌"})]})]}),d&&(0,s.jsxs)("div",{className:l().formRow,children:[s.jsx("input",{type:"text",placeholder:"Username",value:c.username,onChange:e=>p({...c,username:e.target.value})}),s.jsx("input",{type:"text",placeholder:"Discord User ID",value:c.user_id,onChange:e=>p({...c,user_id:e.target.value})}),s.jsx("select",{value:c.plan,onChange:e=>p({...c,plan:e.target.value}),children:a.map(e=>s.jsx("option",{value:e.name,children:e.name},e.name))}),s.jsx("select",{value:c.expiration_days,onChange:e=>p({...c,expiration_days:e.target.value}),children:o.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),(0,s.jsxs)("div",{className:l().formActions,children:[s.jsx("button",{className:l().saveButton,onClick:P,children:"✅"}),s.jsx("button",{className:l().cancelButton,onClick:()=>u(!1),children:"❌"})]})]}),(0,s.jsxs)("div",{className:l().userTable,children:[e.map(e=>s.jsx("div",{className:l().userRow,children:h===e.id?(0,s.jsxs)(s.Fragment,{children:[s.jsx("input",{type:"text",value:m.username,onChange:e=>x({...m,username:e.target.value}),className:l().input}),s.jsx("input",{type:"text",value:m.user_id,onChange:e=>x({...m,user_id:e.target.value}),className:l().input}),s.jsx("select",{value:m.plan,onChange:e=>x({...m,plan:e.target.value}),className:l().input,children:a.map(e=>s.jsx("option",{value:e.name,children:e.name},e.name))}),s.jsx("select",{value:m.expiration_days,onChange:e=>x({...m,expiration_days:e.target.value}),className:l().input,children:o.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),(0,s.jsxs)("div",{className:l().actions,children:[s.jsx("button",{onClick:()=>N(e.id),children:"✅"}),s.jsx("button",{onClick:k,children:"❌"})]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:l().cell,children:e.username}),s.jsx("div",{className:l().cell,children:s.jsx("code",{children:e.user_id})}),s.jsx("div",{className:l().cell,children:e.plan}),s.jsx("div",{className:l().cell,children:new Date(e.expiration_date).toLocaleDateString()}),(0,s.jsxs)("div",{className:l().actions,children:[s.jsx("button",{title:"Edit",onClick:()=>S(e),children:"✏️"}),s.jsx("button",{title:"Delete",onClick:()=>f(e.id),children:"\uD83D\uDDD1️"})]})]})},e.id)),_&&s.jsx("div",{className:l().modalBackdrop,children:(0,s.jsxs)("div",{className:l().modal,children:[s.jsx("p",{children:"Are you sure you want to delete this user?"}),(0,s.jsxs)("div",{className:l().modalButtons,children:[s.jsx("button",{onClick:()=>B(_),children:"✅ Confirm"}),s.jsx("button",{onClick:()=>f(null),children:"❌ Cancel"})]})]})})]})]})}},2661:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(95344),r=a(56506),n=a(8428),l=a(83825),o=a.n(l);function i(){let e=(0,n.usePathname)();return s.jsx("div",{className:o().sidebar,children:[{href:"/developer",label:"\uD83D\uDCCA Dashboard"},{href:"/developer/servers",label:"\uD83D\uDEE1 Servers"},{href:"/developer/users",label:"\uD83D\uDC65 Users"},{href:"/developer/dev-users",label:"\uD83E\uDDE0 Dev Users"},{href:"/developer/feedback",label:"\uD83D\uDCAC Feedback"},{href:"/servers",label:"\uD83D\uDD19 Back to User Panel"}].map(t=>s.jsx(r.default,{href:t.href,className:`${o().link} ${e===t.href?o().active:""}`,children:t.label},t.href))})}},89346:e=>{e.exports={container:"DeveloperLayout_container__f2t9o",content:"DeveloperLayout_content__I1FzZ"}},51035:e=>{e.exports={container:"Users_container___Q0Bg",header:"Users_header__Z5KvA",addButton:"Users_addButton__mK9xg",formRow:"Users_formRow__SpIks",saveButton:"Users_saveButton__tDgVe",cancelButton:"Users_cancelButton__ITxer",userTable:"Users_userTable__5EcAV",userRow:"Users_userRow__W9Sps",cell:"Users_cell___AXa0",actions:"Users_actions__iede8",headerRow:"Users_headerRow__D72tJ",formActions:"Users_formActions__SWu__",modalBackdrop:"Users_modalBackdrop__FgDT5",modal:"Users_modal__udAH5",modalButtons:"Users_modalButtons__Xf2Hh",buttonGroup:"Users_buttonGroup__K2MmI"}},83825:e=>{e.exports={sidebar:"DevSidebar_sidebar__qHBa4",link:"DevSidebar_link__oek2p",active:"DevSidebar_active__0v92e",containerWithSidebar:"DevSidebar_containerWithSidebar__XnQA3"}},43848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let s=(0,a(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\developer\layout.jsx`),{__esModule:r,$$typeof:n}=s,l=s.default},53501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let s=(0,a(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\developer\users\page.jsx`),{__esModule:r,$$typeof:n}=s,l=s.default},51965:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>r});var s=a(25036);let r={title:"Next.js",description:"Generated by Next.js"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[1638,8356,3221,6506],()=>a(8865));module.exports=s})();