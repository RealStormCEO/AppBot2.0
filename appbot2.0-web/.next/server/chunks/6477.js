exports.id=6477,exports.ids=[6477],exports.modules={57219:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},42834:(e,r,t)=>{Promise.resolve().then(t.bind(t,4356))},35303:()=>{},4356:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(95344),a=t(3729),n=t(47674);t(36271);var o=t(8428);function i({children:e}){let{data:r,status:t}=(0,n.useSession)(),s=(0,o.useRouter)(),i=(0,o.usePathname)(),[l,d]=(0,a.useState)(!1),u=(0,a.useRef)(!1),c=["/home","/login","/register"],h=(()=>{let e=i.split("/");return e.length>2?e[2]:null})();return((0,a.useEffect)(()=>{if("loading"!==t){if(c.includes(i)){d(!0);return}if("authenticated"!==t||!h){u.current||(u.current=!0,s.push("/home"));return}(async()=>{try{let e=await fetch("https://discord.com/api/users/@me/guilds",{headers:{Authorization:`Bearer ${r.accessToken}`}});if(!e.ok)throw Error(`Discord API error: ${e.status}`);let t=(await e.json()).find(e=>e.id===h);t&&(8&t.permissions)==8?d(!0):u.current||(u.current=!0,s.push("/home"))}catch(e){console.error("Permission check failed:",e),u.current||(u.current=!0,s.push("/home"))}})()}},[t,r?.accessToken,h,s]),"loading"!==t&&l)?e:null}function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(n.SessionProvider,{children:s.jsx(i,{children:e})})})})}},74262:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(95344),a=t(56506),n=t(2259),o=t.n(n),i=t(8428);function l(){let{guild_id:e}=(0,i.useParams)(),r=(0,i.usePathname)(),t=[{href:`/dashboard/${e}`,label:"\uD83D\uDCCB Forms"},{href:`/applications/${e}`,label:"\uD83D\uDCDD Applications"},{href:`/feedback/${e}`,label:"\uD83D\uDCAC Feedback"},{href:`/settings/${e}`,label:"⚙️ Settings"}];return s.jsx("div",{className:o().sidebar,children:t.map(e=>s.jsx(a.default,{href:e.href,className:`${o().link} ${r.startsWith(e.href)?o().active:""}`,children:e.label},e.href))})}},12799:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(95344),a=t(47674),n=t(3729),o=t(8428),i=t(94830),l=t.n(i);function d(){let{data:e,status:r}=(0,a.useSession)(),t=(0,o.useRouter)(),i=(0,o.usePathname)(),[d,u]=(0,n.useState)(!1),[c,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[m,_]=(0,n.useState)(""),[v,b]=(0,n.useState)(null),[x,g]=(0,n.useState)([]),[j,D]=(0,n.useState)(""),w=(0,n.useRef)(null),S=i?.startsWith("/developer"),N=(()=>{let e=i?.split("/");if(!e||e.length<3)return null;let[r,t,s]=e;return["dashboard","applications","settings"].includes(t)&&/^\d+$/.test(s)?s:null})();if((0,n.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{(async()=>{if(!e?.user?.id){f(!0);return}try{let r=await fetch(`/api/is-dev-user?userId=${e.user.id}`),t=await r.json();h(t.isDev||!1)}catch(e){console.error("\uD83D\uDD25 Failed to check dev access:",e)}finally{f(!0)}})()},[e?.user?.id]),(0,n.useEffect)(()=>{(async()=>{if(!N){""!==m&&_("");return}if("authenticated"===r&&e?.accessToken)try{let r=await fetch("https://discord.com/api/users/@me/guilds",{headers:{Authorization:`Bearer ${e.accessToken}`}}),t=(await r.json()).find(e=>e.id===N);t&&_(t.name)}catch(e){console.error("⚠️ Failed to fetch guild name:",e)}})()},[N,e?.accessToken,r]),(0,n.useEffect)(()=>{(async function(){if(e?.user?.id)try{let e=await fetch("/api/developer/current-user"),r=e.ok?await e.json():null;b(r);let t=await fetch("/api/developer/plans"),s=t.ok?await t.json():[];g(s)}catch(e){console.error("Failed to fetch user or plans:",e)}})()},[e?.user?.id]),(0,n.useEffect)(()=>{if(!v?.expiration_date){D("");return}function e(){let e=new Date,r=new Date(v.expiration_date)-e;if(r<=0){D("Expired");return}let t=Math.floor(r/31536e6),s=Math.floor((r-=31536e6*t)/864e5),a=Math.floor((r-=864e5*s)/36e5),n=Math.floor((r-=36e5*a)/6e4),o=[];t>0&&o.push(`${t}y`),s>0&&o.push(`${s}d`),a>0&&o.push(`${a}h`),o.push(`${n}m`),D(o.join(", "))}e();let r=setInterval(e,6e4);return()=>clearInterval(r)},[v?.expiration_date]),"loading"===r)return null;let T=m?`Editing Server: ${m}`:"",k=(v?.plan||"Free").trim().toLowerCase(),P=x.find(e=>e.name.trim().toLowerCase()===k);return(0,s.jsxs)("div",{className:l().topbar,children:[(0,s.jsxs)("div",{className:l().logoArea,children:[s.jsx("img",{src:"/default-icon.jpg",alt:"AppBot Logo",className:l().logoImage}),s.jsx("span",{className:l().brand,children:"AppBot2.0"})]}),(S||T)&&s.jsx("div",{className:l().centerText,children:s.jsx("span",{className:l().guildName,children:S?"Developer Panel":T})}),(0,s.jsxs)("div",{className:l().right,children:[e?.user&&s.jsx("div",{className:l().avatarWrapper,onClick:()=>u(e=>!e),children:s.jsx("img",{src:e.user.image,alt:"Profile",className:l().avatar})}),e?.user&&d&&(0,s.jsxs)("div",{className:l().dropdown,ref:w,children:[(0,s.jsxs)("div",{className:l().userInfoDropdown,children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"User:"})," ",v?.username||e.user.name]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Plan:"})," ",P?.name||v?.plan||"Free"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Max Forms:"})," ",P?.max_forms??"N/A"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Max Questions:"})," ",P?.max_questions??"N/A"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Time Remaining:"}),s.jsx("br",{}),s.jsx("span",{children:j||"N/A"})]})]}),s.jsx("a",{href:"https://discord.gg/svHdVh2Bff",target:"_blank",rel:"noopener noreferrer",className:l().devButton,style:{textAlign:"center"},children:"\uD83D\uDD17 Join Support Server"}),"/servers"!==i&&s.jsx("button",{className:l().devButton,onClick:()=>t.push("/servers"),children:"\uD83D\uDD01 Switch Servers"}),c&&s.jsx("button",{className:l().devButton,onClick:()=>t.push("/developer/dashboard"),children:"\uD83D\uDEE0 Developer Panel"}),s.jsx("button",{className:l().logout,onClick:()=>(0,a.signOut)({callbackUrl:"/home"}),children:"\uD83D\uDCD5 Log out"})]})]})]})}},2259:e=>{e.exports={sidebar:"DashboardSidebar_sidebar__IHntr",link:"DashboardSidebar_link__X6mrT",active:"DashboardSidebar_active__PW97o",containerWithSidebar:"DashboardSidebar_containerWithSidebar__Hsv_u"}},94830:e=>{e.exports={topbar:"Topbar_topbar__V0QGl",right:"Topbar_right__Jj2ao",logoArea:"Topbar_logoArea__forZL",logoImage:"Topbar_logoImage__LJuRd",brand:"Topbar_brand__3hSuU",avatarWrapper:"Topbar_avatarWrapper__5Bf2P",avatar:"Topbar_avatar__Eq_S3",dropdown:"Topbar_dropdown__HJUG8",fadeIn:"Topbar_fadeIn__o0Bh1",name:"Topbar_name__eFLUk",logout:"Topbar_logout__u1BV7",devButton:"Topbar_devButton__28Bss",centerText:"Topbar_centerText__7McvY",guildName:"Topbar_guildName__av6yP",userInfoDropdown:"Topbar_userInfoDropdown__dVogq"}},75603:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,t(86843).createProxy)(String.raw`C:\Users\oshad\OneDrive\Desktop\JS Code\WIP\AppBot2.0\appbot2.0-web\src\app\(with-nav)\layout.jsx`),{__esModule:a,$$typeof:n}=s,o=s.default},51965:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>a});var s=t(25036);let a={title:"Next.js",description:"Generated by Next.js"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},36271:()=>{}};